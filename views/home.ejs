<!-- home.ejs -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LegiSight AI</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <link rel="icon" type="image/png" href="/favicon.png" />
  </head>
  <body>
    <%- include('partials/header') %> <%- include('partials/sidebar') %>
    <main class="main-content">
      <!-- Initial Home View & Animated Preview -->
      <div id="initial-view-container">
        <div id="initial-view" class="hero-section">
          <div class="hero-text-container">
            <!-- Document Preview Section -->
            <div
              id="document-preview-section"
              class="document-preview-section hidden"
            >
              <div class="preview-container">
                <canvas
                  id="document-preview-canvas"
                  class="document-preview-canvas-main"
                ></canvas>
                <div class="preview-overlay">
                  <span class="document-preview-name"></span>
                </div>
              </div>
            </div>

            <p class="fading-text-white" id="hero-text-1">
              <span class="letter">Y</span><span class="letter">o</span
              ><span class="letter">u</span><span class="letter">r</span>
              <span class="letter space">&nbsp;</span>
              <span class="letter">l</span><span class="letter">e</span
              ><span class="letter">g</span><span class="letter">a</span
              ><span class="letter">l</span>
              <span class="letter space">&nbsp;</span>
              <span class="letter">d</span><span class="letter">o</span
              ><span class="letter">c</span><span class="letter">u</span
              ><span class="letter">m</span><span class="letter">e</span
              ><span class="letter">n</span><span class="letter">t</span
              ><span class="letter">s</span><span class="letter">,</span>
            </p>

            <h1 class="fading-text-highlight" id="animated-word-container">
              <span id="animated-word"></span>
              <span id="cursor">|</span>
            </h1>
          </div>
        </div>

        <!-- Document Preview Container -->
        <div id="document-preview-container" class="document-preview-container">
          <div
            id="preview-1"
            class="document-preview-box hidden"
            data-index="0"
          >
            <div class="preview-content">
              <canvas class="pdf-preview-canvas"></canvas>
              <span class="document-name"></span>
            </div>
            <div class="hover-overlay">
              <i class="fas fa-times delete-preview-btn hidden"></i>
            </div>
          </div>
          <div
            id="preview-2"
            class="document-preview-box hidden"
            data-index="1"
          >
            <div class="preview-content">
              <canvas class="pdf-preview-canvas"></canvas>
              <span class="document-name"></span>
            </div>
            <div class="hover-overlay">
              <i class="fas fa-times delete-preview-btn hidden"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Document View -->
      <div id="document-view-container" class="document-view hidden">
        <div class="document-viewer">
          <button id="close-document-view-btn" class="close-document-view">
            <i class="fas fa-times"></i>
          </button>
          <div id="pdf-viewer"></div>
        </div>
        <div id="resizer" class="resizer"></div>
        <div id="analysis-results" class="analysis-results">
          <h2 class="document-name-display" id="document-name"></h2>
          <div id="results-content"></div>
        </div>
      </div>

      <!-- Chat Interface -->
      <div class="chat-interface-container" id="chat-interface-container">
        <div class="chat-interface" id="chat-interface">
          <div class="chat-modes" id="chat-modes">
            <div class="chat-mode-option" data-mode="summarize">Summarize</div>
            <div class="chat-mode-option" data-mode="compare">Compare</div>
            <div class="chat-mode-option" data-mode="contract-check">
              Contract Check
            </div>
          </div>
          <div class="chat-input-bar">
            <input
              type="text"
              class="chat-input"
              placeholder="Ask a question about your document..."
            />
            <label for="chatFileInput" class="chat-upload-btn">
              <i class="fa-solid fa-cloud-arrow-up"></i>
            </label>
            <input
              type="file"
              id="chatFileInput"
              class="hidden"
              accept=".pdf,.docx"
            />
          </div>
        </div>
      </div>

      <!-- Analysis Chat Interface -->
      <div class="analysis-chat-interface hidden" id="analysis-chat-interface">
        <div class="analysis-chat-container">
          <div class="chat-input-bar">
            <input
              type="text"
              class="chat-input"
              placeholder="Ask anything about the document..."
            />
            <button class="chat-send-btn">
              <i class="fa-solid fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </main>

    <!-- Sign In Modal -->
    <div id="signInModal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Sign In</h2>
        <form id="signInForm">
          <input type="email" placeholder="Email" required />
          <input type="password" placeholder="Password" required />
          <button type="submit">Sign In</button>
        </form>
        <p>Don't have an account? <a href="#" id="showJoinNow">Join Now</a></p>
      </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signUpModal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Sign Up</h2>
        <form id="signUpForm">
          <input type="text" placeholder="Full Name" required />
          <input type="email" placeholder="Email" required />
          <input type="password" placeholder="Password" required />
          <button type="submit">Sign Up</button>
        </form>
        <p>Already have an account? <a href="#" id="showSignIn">Sign In</a></p>
      </div>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Upload Document</h2>
        <input type="file" />
      </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="customAlert" class="custom-alert-modal hidden">
      <div class="custom-alert-content">
        <span class="custom-alert-close">&times;</span>
        <p id="customAlertMessage"></p>
      </div>
    </div>

    <script src="/js/sidebar.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
